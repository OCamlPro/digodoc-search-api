<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Data_types (digodoc-search-api.Data_types)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">digodoc-search-api</a> &#x00BB; Data_types</nav><header class="odoc-preamble"><h1>Module <code><span>Data_types</span></code></h1><p>Module <code>Data_types</code> defines all server-side types also used by user-side application</p></header><nav class="odoc-toc"><ul><li><a href="#return-types">Return types</a></li><li><a href="#exceptions">Exceptions</a></li><li><a href="#argument-types">Argument types</a></li></ul></nav><div class="odoc-content"><h2 id="return-types"><a href="#return-types" class="anchor"></a>Return types</h2><div class="odoc-spec"><div class="spec type" id="type-www_server_info" class="anchored"><a href="#type-www_server_info" class="anchor"></a><code><span><span class="keyword">type</span> www_server_info</span><span> = </span><span>{</span></code><table><tr id="type-www_server_info.www_apis" class="anchored"><td class="def record field"><a href="#type-www_server_info.www_apis" class="anchor"></a><code><span>www_apis : <span>string list</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type that lists all server host names</p></div></div><div class="odoc-spec"><div class="spec type" id="type-opam_entry" class="anchored"><a href="#type-opam_entry" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> opam_entry</span><span> = </span><span>{</span></code><table><tr id="type-opam_entry.name" class="anchored"><td class="def record field"><a href="#type-opam_entry.name" class="anchor"></a><code><span>name : string;</span></code></td></tr><tr id="type-opam_entry.path" class="anchored"><td class="def record field"><a href="#type-opam_entry.path" class="anchor"></a><code><span>path : string;</span></code></td></tr><tr id="type-opam_entry.version" class="anchored"><td class="def record field"><a href="#type-opam_entry.version" class="anchor"></a><code><span>version : string;</span></code></td></tr><tr id="type-opam_entry.synopsis" class="anchored"><td class="def record field"><a href="#type-opam_entry.synopsis" class="anchor"></a><code><span>synopsis : string;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Opam entry</p></div></div><div class="odoc-spec"><div class="spec type" id="type-packages" class="anchored"><a href="#type-packages" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> packages</span><span> = <span><a href="#type-opam_entry">opam_entry</a> list</span></span></code></div><div class="spec-doc"><p>List of opam entries</p></div></div><div class="odoc-spec"><div class="spec type" id="type-lib_entry" class="anchored"><a href="#type-lib_entry" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> lib_entry</span><span> = </span><span>{</span></code><table><tr id="type-lib_entry.name" class="anchored"><td class="def record field"><a href="#type-lib_entry.name" class="anchor"></a><code><span>name : string;</span></code></td></tr><tr id="type-lib_entry.path" class="anchored"><td class="def record field"><a href="#type-lib_entry.path" class="anchor"></a><code><span>path : string;</span></code></td></tr><tr id="type-lib_entry.opam" class="anchored"><td class="def record field"><a href="#type-lib_entry.opam" class="anchor"></a><code><span>opam : string;</span></code></td></tr><tr id="type-lib_entry.opampath" class="anchored"><td class="def record field"><a href="#type-lib_entry.opampath" class="anchor"></a><code><span>opampath : string;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Library entry</p></div></div><div class="odoc-spec"><div class="spec type" id="type-libraries" class="anchored"><a href="#type-libraries" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> libraries</span><span> = <span><a href="#type-lib_entry">lib_entry</a> list</span></span></code></div><div class="spec-doc"><p>List of library entries</p></div></div><div class="odoc-spec"><div class="spec type" id="type-meta_entry" class="anchored"><a href="#type-meta_entry" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> meta_entry</span><span> = </span><span>{</span></code><table><tr id="type-meta_entry.namemeta" class="anchored"><td class="def record field"><a href="#type-meta_entry.namemeta" class="anchor"></a><code><span>namemeta : string;</span></code></td></tr><tr id="type-meta_entry.path" class="anchored"><td class="def record field"><a href="#type-meta_entry.path" class="anchor"></a><code><span>path : string;</span></code></td></tr><tr id="type-meta_entry.opam" class="anchored"><td class="def record field"><a href="#type-meta_entry.opam" class="anchor"></a><code><span>opam : string;</span></code></td></tr><tr id="type-meta_entry.opampath" class="anchored"><td class="def record field"><a href="#type-meta_entry.opampath" class="anchor"></a><code><span>opampath : string;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Meta entry</p></div></div><div class="odoc-spec"><div class="spec type" id="type-metas" class="anchored"><a href="#type-metas" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> metas</span><span> = <span><a href="#type-meta_entry">meta_entry</a> list</span></span></code></div><div class="spec-doc"><p>List of meta entries</p></div></div><div class="odoc-spec"><div class="spec type" id="type-module_entry" class="anchored"><a href="#type-module_entry" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> module_entry</span><span> = </span><span>{</span></code><table><tr id="type-module_entry.name" class="anchored"><td class="def record field"><a href="#type-module_entry.name" class="anchor"></a><code><span>name : string;</span></code></td></tr><tr id="type-module_entry.path" class="anchored"><td class="def record field"><a href="#type-module_entry.path" class="anchor"></a><code><span>path : string;</span></code></td></tr><tr id="type-module_entry.opam" class="anchored"><td class="def record field"><a href="#type-module_entry.opam" class="anchor"></a><code><span>opam : string;</span></code></td></tr><tr id="type-module_entry.opampath" class="anchored"><td class="def record field"><a href="#type-module_entry.opampath" class="anchor"></a><code><span>opampath : string;</span></code></td></tr><tr id="type-module_entry.libs" class="anchored"><td class="def record field"><a href="#type-module_entry.libs" class="anchor"></a><code><span>libs : <span><span>(string * string)</span> list</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Module entry</p></div></div><div class="odoc-spec"><div class="spec type" id="type-modules" class="anchored"><a href="#type-modules" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> modules</span><span> = <span><a href="#type-module_entry">module_entry</a> list</span></span></code></div><div class="spec-doc"><p>List of module entries</p></div></div><div class="odoc-spec"><div class="spec type" id="type-source_entry" class="anchored"><a href="#type-source_entry" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> source_entry</span><span> = </span><span>{</span></code><table><tr id="type-source_entry.namesrc" class="anchored"><td class="def record field"><a href="#type-source_entry.namesrc" class="anchor"></a><code><span>namesrc : string;</span></code></td></tr><tr id="type-source_entry.path" class="anchored"><td class="def record field"><a href="#type-source_entry.path" class="anchor"></a><code><span>path : string;</span></code></td></tr><tr id="type-source_entry.opam" class="anchored"><td class="def record field"><a href="#type-source_entry.opam" class="anchor"></a><code><span>opam : string;</span></code></td></tr><tr id="type-source_entry.opampath" class="anchored"><td class="def record field"><a href="#type-source_entry.opampath" class="anchor"></a><code><span>opampath : string;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Source entry</p></div></div><div class="odoc-spec"><div class="spec type" id="type-sources" class="anchored"><a href="#type-sources" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> sources</span><span> = <span><a href="#type-source_entry">source_entry</a> list</span></span></code></div><div class="spec-doc"><p>List of source entries</p></div></div><div class="odoc-spec"><div class="spec type" id="type-entries" class="anchored"><a href="#type-entries" class="anchor"></a><code><span><span class="keyword">type</span> entries</span><span> = </span></code><table><tr id="type-entries.Opam" class="anchored"><td class="def variant constructor"><a href="#type-entries.Opam" class="anchor"></a><code><span>| </span><span><span class="constructor">Opam</span> <span class="keyword">of</span> <a href="#type-packages">packages</a></span></code></td></tr><tr id="type-entries.Lib" class="anchored"><td class="def variant constructor"><a href="#type-entries.Lib" class="anchor"></a><code><span>| </span><span><span class="constructor">Lib</span> <span class="keyword">of</span> <a href="#type-libraries">libraries</a></span></code></td></tr><tr id="type-entries.Mdl" class="anchored"><td class="def variant constructor"><a href="#type-entries.Mdl" class="anchor"></a><code><span>| </span><span><span class="constructor">Mdl</span> <span class="keyword">of</span> <a href="#type-modules">modules</a></span></code></td></tr><tr id="type-entries.Meta" class="anchored"><td class="def variant constructor"><a href="#type-entries.Meta" class="anchor"></a><code><span>| </span><span><span class="constructor">Meta</span> <span class="keyword">of</span> <a href="#type-metas">metas</a></span></code></td></tr><tr id="type-entries.Src" class="anchored"><td class="def variant constructor"><a href="#type-entries.Src" class="anchor"></a><code><span>| </span><span><span class="constructor">Src</span> <span class="keyword">of</span> <a href="#type-sources">sources</a></span></code></td></tr></table></div><div class="spec-doc"><p>Type that regroups every entry that is a component of OCaml ecosystem (package, library, module, etc.). Result of <code>getEntries</code> service.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-val_element" class="anchored"><a href="#type-val_element" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> val_element</span><span> = </span><span>{</span></code><table><tr id="type-val_element.ident" class="anchored"><td class="def record field"><a href="#type-val_element.ident" class="anchor"></a><code><span>ident : string;</span></code></td></tr><tr id="type-val_element.value" class="anchored"><td class="def record field"><a href="#type-val_element.value" class="anchor"></a><code><span>value : string;</span></code></td></tr><tr id="type-val_element.mdl" class="anchored"><td class="def record field"><a href="#type-val_element.mdl" class="anchor"></a><code><span>mdl : string;</span></code></td></tr><tr id="type-val_element.mdlpath" class="anchored"><td class="def record field"><a href="#type-val_element.mdlpath" class="anchor"></a><code><span>mdlpath : string;</span></code></td></tr><tr id="type-val_element.opam" class="anchored"><td class="def record field"><a href="#type-val_element.opam" class="anchor"></a><code><span>opam : string;</span></code></td></tr><tr id="type-val_element.opampath" class="anchored"><td class="def record field"><a href="#type-val_element.opampath" class="anchor"></a><code><span>opampath : string;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Value element (OCaml function)</p></div></div><div class="odoc-spec"><div class="spec type" id="type-vals" class="anchored"><a href="#type-vals" class="anchor"></a><code><span><span class="keyword">type</span> <span class="keyword">nonrec</span> vals</span><span> = <span><a href="#type-val_element">val_element</a> list</span></span></code></div><div class="spec-doc"><p>List of value elements</p></div></div><div class="odoc-spec"><div class="spec type" id="type-ocaml_elements" class="anchored"><a href="#type-ocaml_elements" class="anchor"></a><code><span><span class="keyword">type</span> ocaml_elements</span><span> = </span></code><table><tr id="type-ocaml_elements.Val" class="anchored"><td class="def variant constructor"><a href="#type-ocaml_elements.Val" class="anchor"></a><code><span>| </span><span><span class="constructor">Val</span> <span class="keyword">of</span> <a href="#type-vals">vals</a></span></code></td></tr></table></div><div class="spec-doc"><p>Type that regroups every element that is a component of a module (val, type, class, etc.). Result of <code>getElements</code> service</p></div></div><div class="odoc-spec"><div class="spec type" id="type-command_result" class="anchored"><a href="#type-command_result" class="anchor"></a><code><span><span class="keyword">type</span> command_result</span><span> = </span><span>{</span></code><table><tr id="type-command_result.result" class="anchored"><td class="def record field"><a href="#type-command_result.result" class="anchor"></a><code><span>result : string;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Result of <code>exec_command</code> service</p></div></div><div class="odoc-spec"><div class="spec type" id="type-search_result" class="anchored"><a href="#type-search_result" class="anchor"></a><code><span><span class="keyword">type</span> search_result</span><span> = </span><span>{</span></code><table><tr id="type-search_result.packages" class="anchored"><td class="def record field"><a href="#type-search_result.packages" class="anchor"></a><code><span>packages : <a href="#type-packages">packages</a>;</span></code></td></tr><tr id="type-search_result.libraries" class="anchored"><td class="def record field"><a href="#type-search_result.libraries" class="anchor"></a><code><span>libraries : <a href="#type-libraries">libraries</a>;</span></code></td></tr><tr id="type-search_result.modules" class="anchored"><td class="def record field"><a href="#type-search_result.modules" class="anchor"></a><code><span>modules : <a href="#type-modules">modules</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Result of <code>search</code> service</p></div></div><h2 id="exceptions"><a href="#exceptions" class="anchor"></a>Exceptions</h2><div class="odoc-spec"><div class="spec type" id="type-server_error_type" class="anchored"><a href="#type-server_error_type" class="anchor"></a><code><span><span class="keyword">type</span> server_error_type</span><span> = </span></code><table><tr id="type-server_error_type.Invalid_regex" class="anchored"><td class="def variant constructor"><a href="#type-server_error_type.Invalid_regex" class="anchor"></a><code><span>| </span><span><span class="constructor">Invalid_regex</span></span></code></td></tr><tr id="type-server_error_type.Unknown" class="anchored"><td class="def variant constructor"><a href="#type-server_error_type.Unknown" class="anchor"></a><code><span>| </span><span><span class="constructor">Unknown</span></span></code></td></tr></table></div><div class="spec-doc"><p>Possible error types that search-api can raise</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Search_api_error" class="anchored"><a href="#exception-Search_api_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Search_api_error</span> <span class="keyword">of</span> <a href="#type-server_error_type">server_error_type</a></span></code></div><div class="spec-doc"><p>Search api exception. When raised by server code ez_api encapsulate it inside <code>EzReq_lwt_S.KnownError</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-search_api_error" class="anchored"><a href="#val-search_api_error" class="anchor"></a><code><span><span class="keyword">val</span> search_api_error : <span><a href="#type-server_error_type">server_error_type</a> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p>Encapsulate server_error_type</p></div></div><div class="odoc-spec"><div class="spec value" id="val-server_error_type" class="anchored"><a href="#val-server_error_type" class="anchor"></a><code><span><span class="keyword">val</span> server_error_type : <span>exn <span class="arrow">&#45;&gt;</span></span> <a href="#type-server_error_type">server_error_type</a></span></code></div><div class="spec-doc"><p>Decapsulate server_error_type</p></div></div><h2 id="argument-types"><a href="#argument-types" class="anchor"></a>Argument types</h2><div class="odoc-spec"><div class="spec type" id="type-entry_type" class="anchored"><a href="#type-entry_type" class="anchor"></a><code><span><span class="keyword">type</span> entry_type</span><span> = </span></code><table><tr id="type-entry_type.PACK" class="anchored"><td class="def variant constructor"><a href="#type-entry_type.PACK" class="anchor"></a><code><span>| </span><span><span class="constructor">PACK</span></span></code></td></tr><tr id="type-entry_type.LIB" class="anchored"><td class="def variant constructor"><a href="#type-entry_type.LIB" class="anchor"></a><code><span>| </span><span><span class="constructor">LIB</span></span></code></td></tr><tr id="type-entry_type.MOD" class="anchored"><td class="def variant constructor"><a href="#type-entry_type.MOD" class="anchor"></a><code><span>| </span><span><span class="constructor">MOD</span></span></code></td></tr><tr id="type-entry_type.META" class="anchored"><td class="def variant constructor"><a href="#type-entry_type.META" class="anchor"></a><code><span>| </span><span><span class="constructor">META</span></span></code></td></tr><tr id="type-entry_type.SRC" class="anchored"><td class="def variant constructor"><a href="#type-entry_type.SRC" class="anchor"></a><code><span>| </span><span><span class="constructor">SRC</span></span></code></td></tr></table></div><div class="spec-doc"><p>Entry type</p></div></div><div class="odoc-spec"><div class="spec type" id="type-element_type" class="anchored"><a href="#type-element_type" class="anchor"></a><code><span><span class="keyword">type</span> element_type</span><span> = </span></code><table><tr id="type-element_type.VAL" class="anchored"><td class="def variant constructor"><a href="#type-element_type.VAL" class="anchor"></a><code><span>| </span><span><span class="constructor">VAL</span></span></code></td></tr></table></div><div class="spec-doc"><p>Element type</p></div></div><div class="odoc-spec"><div class="spec type" id="type-pattern" class="anchored"><a href="#type-pattern" class="anchor"></a><code><span><span class="keyword">type</span> pattern</span><span> = string</span></code></div><div class="spec-doc"><p>Search pattern</p></div></div><div class="odoc-spec"><div class="spec type" id="type-entry_info" class="anchored"><a href="#type-entry_info" class="anchor"></a><code><span><span class="keyword">type</span> entry_info</span><span> = </span><span>{</span></code><table><tr id="type-entry_info.entry" class="anchored"><td class="def record field"><a href="#type-entry_info.entry" class="anchor"></a><code><span><span class="keyword">mutable</span> entry : <a href="#type-entry_type">entry_type</a>;</span></code></td></tr><tr id="type-entry_info.last_id" class="anchored"><td class="def record field"><a href="#type-entry_info.last_id" class="anchor"></a><code><span><span class="keyword">mutable</span> last_id : int;</span></code></td></tr><tr id="type-entry_info.starts_with" class="anchored"><td class="def record field"><a href="#type-entry_info.starts_with" class="anchor"></a><code><span><span class="keyword">mutable</span> starts_with : string;</span></code></td></tr><tr id="type-entry_info.pattern" class="anchored"><td class="def record field"><a href="#type-entry_info.pattern" class="anchor"></a><code><span><span class="keyword">mutable</span> pattern : <a href="#type-pattern">pattern</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Entry info, that is used to customise entry search.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-condition" class="anchored"><a href="#type-condition" class="anchor"></a><code><span><span class="keyword">type</span> condition</span><span> = </span></code><table><tr id="type-condition.In_opam" class="anchored"><td class="def variant constructor"><a href="#type-condition.In_opam" class="anchor"></a><code><span>| </span><span><span class="constructor">In_opam</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a></span></code></td></tr><tr id="type-condition.In_mdl" class="anchored"><td class="def variant constructor"><a href="#type-condition.In_mdl" class="anchor"></a><code><span>| </span><span><span class="constructor">In_mdl</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a></span></code></td></tr></table></div><div class="spec-doc"><p>Condition attached to an OCaml element</p></div></div><div class="odoc-spec"><div class="spec type" id="type-search_mode" class="anchored"><a href="#type-search_mode" class="anchor"></a><code><span><span class="keyword">type</span> search_mode</span><span> = </span></code><table><tr id="type-search_mode.Regex" class="anchored"><td class="def variant constructor"><a href="#type-search_mode.Regex" class="anchor"></a><code><span>| </span><span><span class="constructor">Regex</span></span></code></td></tr><tr id="type-search_mode.Text" class="anchored"><td class="def variant constructor"><a href="#type-search_mode.Text" class="anchor"></a><code><span>| </span><span><span class="constructor">Text</span></span></code></td></tr></table></div><div class="spec-doc"><p>Search mode that determines how to handle correctly an element pattern</p></div></div><div class="odoc-spec"><div class="spec type" id="type-element_info" class="anchored"><a href="#type-element_info" class="anchor"></a><code><span><span class="keyword">type</span> element_info</span><span> = </span><span>{</span></code><table><tr id="type-element_info.element" class="anchored"><td class="def record field"><a href="#type-element_info.element" class="anchor"></a><code><span>element : <a href="#type-element_type">element_type</a>;</span></code></td></tr><tr id="type-element_info.last_id" class="anchored"><td class="def record field"><a href="#type-element_info.last_id" class="anchor"></a><code><span>last_id : int;</span></code></td></tr><tr id="type-element_info.pattern" class="anchored"><td class="def record field"><a href="#type-element_info.pattern" class="anchor"></a><code><span>pattern : <a href="#type-pattern">pattern</a>;</span></code></td></tr><tr id="type-element_info.mode" class="anchored"><td class="def record field"><a href="#type-element_info.mode" class="anchor"></a><code><span>mode : <a href="#type-search_mode">search_mode</a>;</span></code></td></tr><tr id="type-element_info.conditions" class="anchored"><td class="def record field"><a href="#type-element_info.conditions" class="anchor"></a><code><span>conditions : <span><a href="#type-condition">condition</a> list</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Element info, that is used to customise element search.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-info" class="anchored"><a href="#type-info" class="anchor"></a><code><span><span class="keyword">type</span> info</span><span> = </span></code><table><tr id="type-info.Entry" class="anchored"><td class="def variant constructor"><a href="#type-info.Entry" class="anchor"></a><code><span>| </span><span><span class="constructor">Entry</span> <span class="keyword">of</span> <a href="#type-entry_info">entry_info</a></span></code></td></tr><tr id="type-info.Element" class="anchored"><td class="def variant constructor"><a href="#type-info.Element" class="anchor"></a><code><span>| </span><span><span class="constructor">Element</span> <span class="keyword">of</span> <a href="#type-element_info">element_info</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-command" class="anchored"><a href="#type-command" class="anchor"></a><code><span><span class="keyword">type</span> command</span><span> = </span></code><table><tr id="type-command.Count" class="anchored"><td class="def variant constructor"><a href="#type-command.Count" class="anchor"></a><code><span>| </span><span><span class="constructor">Count</span></span></code></td></tr></table></div><div class="spec-doc"><p>All commands that could be executed with service <code>exec_command</code>.</p></div></div></div></body></html>